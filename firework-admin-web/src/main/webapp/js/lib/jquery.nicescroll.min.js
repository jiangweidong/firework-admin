(function(b){"function"===typeof define&&define.amd?define(["jquery"],b):b(jQuery)})(function(G){var i=!1,u=!1,g=0,e=2000,k=0,m=["webkit","ms","moz","o"],r=window.requestAnimationFrame||!1,q=window.cancelAnimationFrame||!1;if(!r){for(var d in m){var p=m[d];r||(r=window[p+"RequestAnimationFrame"]);q||(q=window[p+"CancelAnimationFrame"]||window[p+"CancelRequestAnimationFrame"])}}var n=window.MutationObserver||window.WebKitMutationObserver||!1,j={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:0.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:function(){var s=document.getElementsByTagName("script"),s=s[s.length-1].src.split("?")[0];return 0<s.split("/").length?s.split("/").slice(0,-1).join("/")+"/":""}(),preventmultitouchscrolling:!0},o=!1,c=function(){if(o){return o}var v=document.createElement("DIV"),B=v.style,t=navigator.userAgent,s=navigator.platform,x={haspointerlock:"pointerLockElement" in document||"webkitPointerLockElement" in document||"mozPointerLockElement" in document};x.isopera="opera" in window;x.isopera12=x.isopera&&"getUserMedia" in navigator;x.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini);x.isie="all" in document&&"attachEvent" in v&&!x.isopera;x.isieold=x.isie&&!("msInterpolationMode" in B);x.isie7=x.isie&&!x.isieold&&(!("documentMode" in document)||7==document.documentMode);x.isie8=x.isie&&"documentMode" in document&&8==document.documentMode;x.isie9=x.isie&&"performance" in window&&9<=document.documentMode;x.isie10=x.isie&&"performance" in window&&10==document.documentMode;x.isie11="msRequestFullscreen" in v&&11<=document.documentMode;x.isie9mobile=/iemobile.9/i.test(t);x.isie9mobile&&(x.isie9=!1);x.isie7mobile=!x.isie9mobile&&x.isie7&&/iemobile/i.test(t);x.ismozilla="MozAppearance" in B;x.iswebkit="WebkitAppearance" in B;x.ischrome="chrome" in window;x.ischrome22=x.ischrome&&x.haspointerlock;x.ischrome26=x.ischrome&&"transition" in B;x.cantouch="ontouchstart" in document.documentElement||"ontouchstart" in window;x.hasmstouch=window.MSPointerEvent||!1;x.hasw3ctouch=window.PointerEvent||!1;x.ismac=/^mac$/i.test(s);x.isios=x.cantouch&&/iphone|ipad|ipod/i.test(s);x.isios4=x.isios&&!("seal" in Object);x.isios7=x.isios&&"webkitHidden" in document;x.isandroid=/android/i.test(t);x.haseventlistener="addEventListener" in v;x.trstyle=!1;x.hastransform=!1;x.hastranslate3d=!1;x.transitionstyle=!1;x.hastransition=!1;x.transitionend=!1;s=["transform","msTransform","webkitTransform","MozTransform","OTransform"];for(t=0;t<s.length;t++){if("undefined"!=typeof B[s[t]]){x.trstyle=s[t];break}}x.hastransform=!!x.trstyle;x.hastransform&&(B[x.trstyle]="translate3d(1px,2px,3px)",x.hastranslate3d=/translate3d/.test(B[x.trstyle]));x.transitionstyle=!1;x.prefixstyle="";x.transitionend=!1;for(var s="transition webkitTransition msTransition MozTransition OTransition OTransition KhtmlTransition".split(" "),y=" -webkit- -ms- -moz- -o- -o -khtml-".split(" "),w="transitionend webkitTransitionEnd msTransitionEnd transitionend otransitionend oTransitionEnd KhtmlTransitionEnd".split(" "),t=0;t<s.length;t++){if(s[t] in B){x.transitionstyle=s[t];x.prefixstyle=y[t];x.transitionend=w[t];break}}x.ischrome26&&(x.prefixstyle=y[1]);x.hastransition=x.transitionstyle;a:{t=["-webkit-grab","-moz-grab","grab"];if(x.ischrome&&!x.ischrome22||x.isie){t=[]}for(s=0;s<t.length;s++){if(y=t[s],B.cursor=y,B.cursor==y){B=y;break a}}B="url(//mail.google.com/mail/images/2/openhand.cur),n-resize"}x.cursorgrabvalue=B;x.hasmousecapture="setCapture" in v;x.hasMutationObserver=!1!==n;return o=x},b=function(y,E){function B(){var w=H.doc.css(C.trstyle);return w&&"matrix"==w.substr(0,6)?w.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/):!1}function x(){var w=H.win;if("zIndex" in w){return w.zIndex()}for(;0<w.length&&9!=w[0].nodeType;){var K=w.css("zIndex");if(!isNaN(K)&&0!=K){return parseInt(K)}w=w.parent()}return !1}function D(w,K,L){K=w.css(K);w=parseFloat(K);return isNaN(w)?(w=I[K]||0,L=3==w?L?H.win.outerHeight()-H.win.innerHeight():H.win.outerWidth()-H.win.innerWidth():1,H.isie8&&w&&(w+=1),L?w:0):w}function v(w,K,L,M){H._bind(w,K,function(N){N=N?N:window.event;var O={original:N,target:N.target||N.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==N.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){N.preventDefault?N.preventDefault():N.returnValue=!1;return !1},stopImmediatePropagation:function(){N.stopImmediatePropagation?N.stopImmediatePropagation():N.cancelBubble=!0}};"mousewheel"==K?(O.deltaY=-0.025*N.wheelDelta,N.wheelDeltaX&&(O.deltaX=-0.025*N.wheelDeltaX)):O.deltaY=N.detail;return L.call(w,O)},M)}function s(w,K,N){var M,L;0==w.deltaMode?(M=-Math.floor(H.opt.mousescrollstep/54*w.deltaX),L=-Math.floor(H.opt.mousescrollstep/54*w.deltaY)):1==w.deltaMode&&(M=-Math.floor(w.deltaX*H.opt.mousescrollstep),L=-Math.floor(w.deltaY*H.opt.mousescrollstep));K&&H.opt.oneaxismousemode&&0==M&&L&&(M=L,L=0,N&&(0>M?H.getScrollLeft()>=H.page.maxw:0>=H.getScrollLeft())&&(L=M,M=0));M&&(H.scrollmom&&H.scrollmom.stop(),H.lastdeltax+=M,H.debounced("mousewheelx",function(){var O=H.lastdeltax;H.lastdeltax=0;H.rail.drag||H.doScrollLeftBy(O)},15));if(L){if(H.opt.nativeparentscrolling&&N&&!H.ispage&&!H.zoomactive){if(0>L){if(H.getScrollTop()>=H.page.maxh){return !0}}else{if(0>=H.getScrollTop()){return !0}}}H.scrollmom&&H.scrollmom.stop();H.lastdeltay+=L;H.debounced("mousewheely",function(){var O=H.lastdeltay;H.lastdeltay=0;H.rail.drag||H.doScrollBy(O)},15)}w.stopImmediatePropagation();return w.preventDefault()}var H=this;this.version="3.6.0";this.name="nicescroll";this.me=E;this.opt={doc:G("body"),win:!1};G.extend(this.opt,j);this.opt.snapbackspeed=80;if(y){for(var J in H.opt){"undefined"!=typeof y[J]&&(H.opt[J]=y[J])}}this.iddoc=(this.doc=H.opt.doc)&&this.doc[0]?this.doc[0].id||"":"";this.ispage=/^BODY|HTML/.test(H.opt.win?H.opt.win[0].nodeName:this.doc[0].nodeName);this.haswrapper=!1!==H.opt.win;this.win=H.opt.win||(this.ispage?G(window):this.doc);this.docscroll=this.ispage&&!this.haswrapper?G(window):this.win;this.body=G("body");this.iframe=this.isfixed=this.viewport=!1;this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName;this.istextarea="TEXTAREA"==this.win[0].nodeName;this.forcescreen=!1;this.canshowonmouseevent="scroll"!=H.opt.autohidemode;this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1;this.scroll={x:0,y:0};this.scrollratio={x:0,y:0};this.cursorheight=20;this.scrollvaluemax=0;this.isrtlmode="auto"==this.opt.rtlmode?"rtl"==(this.win[0]==window?this.body:this.win).css("direction"):!0===this.opt.rtlmode;this.observerbody=this.observerremover=this.observer=this.scrollmom=this.scrollrunning=!1;do{this.id="ascrail"+e++}while(document.getElementById(this.id));this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.selectiondrag=this.cursorfreezed=this.cursor=this.rail=!1;this.visibility=!0;this.hidden=this.locked=this.railslocked=!1;this.cursoractive=!0;this.wheelprevented=!1;this.overflowx=H.opt.overflowx;this.overflowy=H.opt.overflowy;this.nativescrollingarea=!1;this.checkarea=0;this.events=[];this.saved={};this.delaylist={};this.synclist={};this.lastdeltay=this.lastdeltax=0;this.detected=c();var C=G.extend({},this.detected);this.ishwscroll=(this.canhwscroll=C.hastransform&&H.opt.hwacceleration)&&H.haswrapper;this.hasreversehr=this.isrtlmode&&!C.iswebkit;this.istouchcapable=!1;!C.cantouch||C.isios||C.isandroid||!C.iswebkit&&!C.ismozilla||(this.istouchcapable=!0,C.cantouch=!1);H.opt.enablemouselockapi||(C.hasmousecapture=!1,C.haspointerlock=!1);this.debounced=function(w,K,M){var L=H.delaylist[w];H.delaylist[w]=K;L||setTimeout(function(){var N=H.delaylist[w];H.delaylist[w]=!1;N.call(H)},M)};var f=!1;this.synched=function(w,K){H.synclist[w]=K;(function(){f||(r(function(){f=!1;for(var L in H.synclist){var M=H.synclist[L];M&&M.call(H);H.synclist[L]=!1}}),f=!0)})();return w};this.unsynched=function(w){H.synclist[w]&&(H.synclist[w]=!1)};this.css=function(w,K){for(var L in K){H.saved.css.push([w,L,w.css(L)]),w.css(L,K[L])}};this.scrollTop=function(w){return"undefined"==typeof w?H.getScrollTop():H.setScrollTop(w)};this.scrollLeft=function(w){return"undefined"==typeof w?H.getScrollLeft():H.setScrollLeft(w)};var t=function(w,L,P,O,N,M,K){this.st=w;this.ed=L;this.spd=P;this.p1=O||0;this.p2=N||1;this.p3=M||0;this.p4=K||1;this.ts=(new Date).getTime();this.df=this.ed-this.st};t.prototype={B2:function(w){return 3*w*w*(1-w)},B3:function(w){return 3*w*(1-w)*(1-w)},B4:function(w){return(1-w)*(1-w)*(1-w)},getNow:function(){var w=1-((new Date).getTime()-this.ts)/this.spd,K=this.B2(w)+this.B3(w)+this.B4(w);return 0>w?this.ed:this.st+Math.round(this.df*K)},update:function(w,K){this.st=this.getNow();this.ed=w;this.spd=K;this.ts=(new Date).getTime();this.df=this.ed-this.st;return this}};if(this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"};C.hastranslate3d&&C.isios&&this.doc.css("-webkit-backface-visibility","hidden");this.getScrollTop=function(w){if(!w){if(w=B()){return 16==w.length?-w[13]:-w[5]}if(H.timerscroll&&H.timerscroll.bz){return H.timerscroll.bz.getNow()}}return H.doc.translate.y};this.getScrollLeft=function(w){if(!w){if(w=B()){return 16==w.length?-w[12]:-w[4]}if(H.timerscroll&&H.timerscroll.bh){return H.timerscroll.bh.getNow()}}return H.doc.translate.x};this.notifyScrollEvent=function(w){var K=document.createEvent("UIEvents");K.initUIEvent("scroll",!1,!0,window,1);K.niceevent=!0;w.dispatchEvent(K)};var F=this.isrtlmode?1:-1;C.hastranslate3d&&H.opt.enabletranslate3d?(this.setScrollTop=function(w,K){H.doc.translate.y=w;H.doc.translate.ty=-1*w+"px";H.doc.css(C.trstyle,"translate3d("+H.doc.translate.tx+","+H.doc.translate.ty+",0px)");K||H.notifyScrollEvent(H.win[0])},this.setScrollLeft=function(w,K){H.doc.translate.x=w;H.doc.translate.tx=w*F+"px";H.doc.css(C.trstyle,"translate3d("+H.doc.translate.tx+","+H.doc.translate.ty+",0px)");K||H.notifyScrollEvent(H.win[0])}):(this.setScrollTop=function(w,K){H.doc.translate.y=w;H.doc.translate.ty=-1*w+"px";H.doc.css(C.trstyle,"translate("+H.doc.translate.tx+","+H.doc.translate.ty+")");K||H.notifyScrollEvent(H.win[0])},this.setScrollLeft=function(w,K){H.doc.translate.x=w;H.doc.translate.tx=w*F+"px";H.doc.css(C.trstyle,"translate("+H.doc.translate.tx+","+H.doc.translate.ty+")");K||H.notifyScrollEvent(H.win[0])})}else{this.getScrollTop=function(){return H.docscroll.scrollTop()},this.setScrollTop=function(w){return H.docscroll.scrollTop(w)},this.getScrollLeft=function(){return H.detected.ismozilla&&H.isrtlmode?Math.abs(H.docscroll.scrollLeft()):H.docscroll.scrollLeft()},this.setScrollLeft=function(w){return H.docscroll.scrollLeft(H.detected.ismozilla&&H.isrtlmode?-w:w)}}this.getTarget=function(w){return w?w.target?w.target:w.srcElement?w.srcElement:!1:!1};this.hasParent=function(w,K){if(!w){return !1}for(var L=w.target||w.srcElement||w||!1;L&&L.id!=K;){L=L.parentNode||!1}return !1!==L};var I={thin:1,medium:3,thick:5};this.getDocumentScrollOffset=function(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}};this.getOffset=function(){if(H.isfixed){var w=H.win.offset(),K=H.getDocumentScrollOffset();w.top-=K.top;w.left-=K.left;return w}w=H.win.offset();if(!H.viewport){return w}K=H.viewport.offset();return{top:w.top-K.top,left:w.left-K.left}};this.updateScrollBar=function(w){if(H.ishwscroll){H.rail.css({height:H.win.innerHeight()-(H.opt.railpadding.top+H.opt.railpadding.bottom)}),H.railh&&H.railh.css({width:H.win.innerWidth()-(H.opt.railpadding.left+H.opt.railpadding.right)})}else{var K=H.getOffset(),N=K.top,M=K.left-(H.opt.railpadding.left+H.opt.railpadding.right),N=N+D(H.win,"border-top-width",!0),M=M+(H.rail.align?H.win.outerWidth()-D(H.win,"border-right-width")-H.rail.width:D(H.win,"border-left-width")),L=H.opt.railoffset;L&&(L.top&&(N+=L.top),H.rail.align&&L.left&&(M+=L.left));H.railslocked||H.rail.css({top:N,left:M,height:(w?w.h:H.win.innerHeight())-(H.opt.railpadding.top+H.opt.railpadding.bottom)});H.zoom&&H.zoom.css({top:N+1,left:1==H.rail.align?M-20:M+H.rail.width+4});if(H.railh&&!H.railslocked){N=K.top;M=K.left;if(L=H.opt.railhoffset){L.top&&(N+=L.top),L.left&&(M+=L.left)}w=H.railh.align?N+D(H.win,"border-top-width",!0)+H.win.innerHeight()-H.railh.height:N+D(H.win,"border-top-width",!0);M+=D(H.win,"border-left-width");H.railh.css({top:w-(H.opt.railpadding.top+H.opt.railpadding.bottom),left:M,width:H.railh.width})}}};this.doRailClick=function(w,K,M){var L;H.railslocked||(H.cancelEvent(w),K?(K=M?H.doScrollLeft:H.doScrollTop,L=M?(w.pageX-H.railh.offset().left-H.cursorwidth/2)*H.scrollratio.x:(w.pageY-H.rail.offset().top-H.cursorheight/2)*H.scrollratio.y,K(L)):(K=M?H.doScrollLeftBy:H.doScrollBy,L=M?H.scroll.x:H.scroll.y,w=M?w.pageX-H.railh.offset().left:w.pageY-H.rail.offset().top,M=M?H.view.w:H.view.h,K(L>=w?M:-M)))};H.hasanimationframe=r;H.hascancelanimationframe=q;H.hasanimationframe?H.hascancelanimationframe||(q=function(){H.cancelAnimationFrame=!0}):(r=function(w){return setTimeout(w,15-Math.floor(+new Date/1000)%16)},q=clearInterval);this.init=function(){H.saved.css=[];if(C.isie7mobile||C.isoperamini){return !0}C.hasmstouch&&H.css(H.ispage?G("html"):H.win,{"-ms-touch-action":"none"});H.zindex="auto";H.zindex=H.ispage||"auto"!=H.opt.zindex?H.opt.zindex:x()||"auto";!H.ispage&&"auto"!=H.zindex&&H.zindex>k&&(k=H.zindex);H.isie&&0==H.zindex&&"auto"==H.opt.zindex&&(H.zindex="auto");if(!H.ispage||!C.cantouch&&!C.isieold&&!C.isie9mobile){var U=H.docscroll;H.ispage&&(U=H.haswrapper?H.win:H.doc);C.isie9mobile||H.css(U,{"overflow-y":"hidden"});H.ispage&&C.isie7&&("BODY"==H.doc[0].nodeName?H.css(G("html"),{"overflow-y":"hidden"}):"HTML"==H.doc[0].nodeName&&H.css(G("body"),{"overflow-y":"hidden"}));!C.isios||H.ispage||H.haswrapper||H.css(G("body"),{"-webkit-overflow-scrolling":"touch"});var Q=G(document.createElement("div"));Q.css({position:"relative",top:0,"float":"right",width:H.opt.cursorwidth,height:"0px","background-color":H.opt.cursorcolor,border:H.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":H.opt.cursorborderradius,"-moz-border-radius":H.opt.cursorborderradius,"border-radius":H.opt.cursorborderradius});Q.hborder=parseFloat(Q.outerHeight()-Q.innerHeight());Q.addClass("nicescroll-cursors");H.cursor=Q;var T=G(document.createElement("div"));T.attr("id",H.id);T.addClass("nicescroll-rails nicescroll-rails-vr");var S,P,O=["left","right","top","bottom"],V;for(V in O){P=O[V],(S=H.opt.railpadding[P])?T.css("padding-"+P,S+"px"):H.opt.railpadding[P]=0}T.append(Q);T.width=Math.max(parseFloat(H.opt.cursorwidth),Q.outerWidth());T.css({width:T.width+"px",zIndex:H.zindex,background:H.opt.background,cursor:"default"});T.visibility=!0;T.scrollable=!0;T.align="left"==H.opt.railalign?0:1;H.rail=T;Q=H.rail.drag=!1;!H.opt.boxzoom||H.ispage||C.isieold||(Q=document.createElement("div"),H.bind(Q,"click",H.doZoom),H.bind(Q,"mouseenter",function(){H.zoom.css("opacity",H.opt.cursoropacitymax)}),H.bind(Q,"mouseleave",function(){H.zoom.css("opacity",H.opt.cursoropacitymin)}),H.zoom=G(Q),H.zoom.css({cursor:"pointer","z-index":H.zindex,backgroundImage:"url("+H.opt.scriptpath+"../../images/zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),H.opt.dblclickzoom&&H.bind(H.win,"dblclick",H.doZoom),C.cantouch&&H.opt.gesturezoom&&(H.ongesturezoom=function(M){1.5<M.scale&&H.doZoomIn(M);0.8>M.scale&&H.doZoomOut(M);return H.cancelEvent(M)},H.bind(H.win,"gestureend",H.ongesturezoom)));H.railh=!1;var N;H.opt.horizrailenabled&&(H.css(U,{"overflow-x":"hidden"}),Q=G(document.createElement("div")),Q.css({position:"absolute",top:0,height:H.opt.cursorwidth,width:"0px","background-color":H.opt.cursorcolor,border:H.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":H.opt.cursorborderradius,"-moz-border-radius":H.opt.cursorborderradius,"border-radius":H.opt.cursorborderradius}),C.isieold&&Q.css({overflow:"hidden"}),Q.wborder=parseFloat(Q.outerWidth()-Q.innerWidth()),Q.addClass("nicescroll-cursors"),H.cursorh=Q,N=G(document.createElement("div")),N.attr("id",H.id+"-hr"),N.addClass("nicescroll-rails nicescroll-rails-hr"),N.height=Math.max(parseFloat(H.opt.cursorwidth),Q.outerHeight()),N.css({height:N.height+"px",zIndex:H.zindex,background:H.opt.background}),N.append(Q),N.visibility=!0,N.scrollable=!0,N.align="top"==H.opt.railvalign?0:1,H.railh=N,H.railh.drag=!1);H.ispage?(T.css({position:"fixed",top:"0px",height:"100%"}),T.align?T.css({right:"0px"}):T.css({left:"0px"}),H.body.append(T),H.railh&&(N.css({position:"fixed",left:"0px",width:"100%"}),N.align?N.css({bottom:"0px"}):N.css({top:"0px"}),H.body.append(N))):(H.ishwscroll?("static"==H.win.css("position")&&H.css(H.win,{position:"relative"}),U="HTML"==H.win[0].nodeName?H.body:H.win,G(U).scrollTop(0).scrollLeft(0),H.zoom&&(H.zoom.css({position:"absolute",top:1,right:0,"margin-right":T.width+4}),U.append(H.zoom)),T.css({position:"absolute",top:0}),T.align?T.css({right:0}):T.css({left:0}),U.append(T),N&&(N.css({position:"absolute",left:0,bottom:0}),N.align?N.css({bottom:0}):N.css({top:0}),U.append(N))):(H.isfixed="fixed"==H.win.css("position"),U=H.isfixed?"fixed":"absolute",H.isfixed||(H.viewport=H.getViewport(H.win[0])),H.viewport&&(H.body=H.viewport,0==/fixed|absolute/.test(H.viewport.css("position"))&&H.css(H.viewport,{position:"relative"})),T.css({position:U}),H.zoom&&H.zoom.css({position:U}),H.updateScrollBar(),H.body.append(T),H.zoom&&H.body.append(H.zoom),H.railh&&(N.css({position:U}),H.body.append(N))),C.isios&&H.css(H.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),C.isie&&H.opt.disableoutline&&H.win.attr("hideFocus","true"),C.iswebkit&&H.opt.disableoutline&&H.win.css({outline:"none"}));!1===H.opt.autohidemode?(H.autohidedom=!1,H.rail.css({opacity:H.opt.cursoropacitymax}),H.railh&&H.railh.css({opacity:H.opt.cursoropacitymax})):!0===H.opt.autohidemode||"leave"===H.opt.autohidemode?(H.autohidedom=G().add(H.rail),C.isie8&&(H.autohidedom=H.autohidedom.add(H.cursor)),H.railh&&(H.autohidedom=H.autohidedom.add(H.railh)),H.railh&&C.isie8&&(H.autohidedom=H.autohidedom.add(H.cursorh))):"scroll"==H.opt.autohidemode?(H.autohidedom=G().add(H.rail),H.railh&&(H.autohidedom=H.autohidedom.add(H.railh))):"cursor"==H.opt.autohidemode?(H.autohidedom=G().add(H.cursor),H.railh&&(H.autohidedom=H.autohidedom.add(H.cursorh))):"hidden"==H.opt.autohidemode&&(H.autohidedom=!1,H.hide(),H.railslocked=!1);if(C.isie9mobile){H.scrollmom=new h(H),H.onmangotouch=function(){var M=H.getScrollTop(),ab=H.getScrollLeft();if(M==H.scrollmom.lastscrolly&&ab==H.scrollmom.lastscrollx){return !0}var W=M-H.mangotouch.sy,Z=ab-H.mangotouch.sx;if(0!=Math.round(Math.sqrt(Math.pow(Z,2)+Math.pow(W,2)))){var aa=0>W?-1:1,Y=0>Z?-1:1,X=+new Date;H.mangotouch.lazy&&clearTimeout(H.mangotouch.lazy);80<X-H.mangotouch.tm||H.mangotouch.dry!=aa||H.mangotouch.drx!=Y?(H.scrollmom.stop(),H.scrollmom.reset(ab,M),H.mangotouch.sy=M,H.mangotouch.ly=M,H.mangotouch.sx=ab,H.mangotouch.lx=ab,H.mangotouch.dry=aa,H.mangotouch.drx=Y,H.mangotouch.tm=X):(H.scrollmom.stop(),H.scrollmom.update(H.mangotouch.sx-Z,H.mangotouch.sy-W),H.mangotouch.tm=X,W=Math.max(Math.abs(H.mangotouch.ly-M),Math.abs(H.mangotouch.lx-ab)),H.mangotouch.ly=M,H.mangotouch.lx=ab,2<W&&(H.mangotouch.lazy=setTimeout(function(){H.mangotouch.lazy=!1;H.mangotouch.dry=0;H.mangotouch.drx=0;H.mangotouch.tm=0;H.scrollmom.doMomentum(30)},100)))}},T=H.getScrollTop(),N=H.getScrollLeft(),H.mangotouch={sy:T,ly:T,dry:0,sx:N,lx:N,drx:0,lazy:!1,tm:0},H.bind(H.docscroll,"scroll",H.onmangotouch)}else{if(C.cantouch||H.istouchcapable||H.opt.touchbehavior||C.hasmstouch){H.scrollmom=new h(H);H.ontouchstart=function(M){if(M.pointerType&&2!=M.pointerType&&"touch"!=M.pointerType){return !1}H.hasmoving=!1;if(!H.railslocked){var aa;if(C.hasmstouch){for(aa=M.target?M.target:!1;aa;){var X=G(aa).getNiceScroll();if(0<X.length&&X[0].me==H.me){break}if(0<X.length){return !1}if("DIV"==aa.nodeName&&aa.id==H.id){break}aa=aa.parentNode?aa.parentNode:!1}}H.cancelScroll();if((aa=H.getTarget(M))&&/INPUT/i.test(aa.nodeName)&&/range/i.test(aa.type)){return H.stopPropagation(M)}!("clientX" in M)&&"changedTouches" in M&&(M.clientX=M.changedTouches[0].clientX,M.clientY=M.changedTouches[0].clientY);H.forcescreen&&(X=M,M={original:M.original?M.original:M},M.clientX=X.screenX,M.clientY=X.screenY);H.rail.drag={x:M.clientX,y:M.clientY,sx:H.scroll.x,sy:H.scroll.y,st:H.getScrollTop(),sl:H.getScrollLeft(),pt:2,dl:!1};if(H.ispage||!H.opt.directionlockdeadzone){H.rail.drag.dl="f"}else{var X=G(window).width(),Z=G(window).height(),Y=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),W=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),Z=Math.max(0,W-Z),X=Math.max(0,Y-X);H.rail.drag.ck=!H.rail.scrollable&&H.railh.scrollable?0<Z?"v":!1:H.rail.scrollable&&!H.railh.scrollable?0<X?"h":!1:!1;H.rail.drag.ck||(H.rail.drag.dl="f")}H.opt.touchbehavior&&H.isiframe&&C.isie&&(X=H.win.position(),H.rail.drag.x+=X.left,H.rail.drag.y+=X.top);H.hasmoving=!1;H.lastmouseup=!1;H.scrollmom.reset(M.clientX,M.clientY);if(!C.cantouch&&!this.istouchcapable&&!M.pointerType){if(!aa||!/INPUT|SELECT|TEXTAREA/i.test(aa.nodeName)){return !H.ispage&&C.hasmousecapture&&aa.setCapture(),H.opt.touchbehavior?(aa.onclick&&!aa._onclick&&(aa._onclick=aa.onclick,aa.onclick=function(ab){if(H.hasmoving){return !1}aa._onclick.call(this,ab)}),H.cancelEvent(M)):H.stopPropagation(M)}/SUBMIT|CANCEL|BUTTON/i.test(G(aa).attr("type"))&&(pc={tg:aa,click:!1},H.preventclick=pc)}}};H.ontouchend=function(M){if(!H.rail.drag){return !0}if(2==H.rail.drag.pt){if(M.pointerType&&2!=M.pointerType&&"touch"!=M.pointerType){return !1}H.scrollmom.doMomentum();H.rail.drag=!1;if(H.hasmoving&&(H.lastmouseup=!0,H.hideCursor(),C.hasmousecapture&&document.releaseCapture(),!C.cantouch)){return H.cancelEvent(M)}}else{if(1==H.rail.drag.pt){return H.onmouseup(M)}}};var L=H.opt.touchbehavior&&H.isiframe&&!C.hasmousecapture;H.ontouchmove=function(ad,ac){if(!H.rail.drag||ad.targetTouches&&H.opt.preventmultitouchscrolling&&1<ad.targetTouches.length||ad.pointerType&&2!=ad.pointerType&&"touch"!=ad.pointerType){return !1}if(2==H.rail.drag.pt){if(C.cantouch&&C.isios&&"undefined"==typeof ad.original){return !0}H.hasmoving=!0;H.preventclick&&!H.preventclick.click&&(H.preventclick.click=H.preventclick.tg.onclick||!1,H.preventclick.tg.onclick=H.onpreventclick);ad=G.extend({original:ad},ad);"changedTouches" in ad&&(ad.clientX=ad.changedTouches[0].clientX,ad.clientY=ad.changedTouches[0].clientY);if(H.forcescreen){var Z=ad;ad={original:ad.original?ad.original:ad};ad.clientX=Z.screenX;ad.clientY=Z.screenY}var aa,Z=aa=0;L&&!ac&&(aa=H.win.position(),Z=-aa.left,aa=-aa.top);var M=ad.clientY+aa;aa=M-H.rail.drag.y;var Y=ad.clientX+Z,ae=Y-H.rail.drag.x,X=H.rail.drag.st-aa;H.ishwscroll&&H.opt.bouncescroll?0>X?X=Math.round(X/2):X>H.page.maxh&&(X=H.page.maxh+Math.round((X-H.page.maxh)/2)):(0>X&&(M=X=0),X>H.page.maxh&&(X=H.page.maxh,M=0));var W;H.railh&&H.railh.scrollable&&(W=H.isrtlmode?ae-H.rail.drag.sl:H.rail.drag.sl-ae,H.ishwscroll&&H.opt.bouncescroll?0>W?W=Math.round(W/2):W>H.page.maxw&&(W=H.page.maxw+Math.round((W-H.page.maxw)/2)):(0>W&&(Y=W=0),W>H.page.maxw&&(W=H.page.maxw,Y=0)));Z=!1;if(H.rail.drag.dl){Z=!0,"v"==H.rail.drag.dl?W=H.rail.drag.sl:"h"==H.rail.drag.dl&&(X=H.rail.drag.st)}else{aa=Math.abs(aa);var ae=Math.abs(ae),ab=H.opt.directionlockdeadzone;if("v"==H.rail.drag.ck){if(aa>ab&&ae<=0.3*aa){return H.rail.drag=!1,!0}ae>ab&&(H.rail.drag.dl="f",G("body").scrollTop(G("body").scrollTop()))}else{if("h"==H.rail.drag.ck){if(ae>ab&&aa<=0.3*ae){return H.rail.drag=!1,!0}aa>ab&&(H.rail.drag.dl="f",G("body").scrollLeft(G("body").scrollLeft()))}}}H.synched("touchmove",function(){H.rail.drag&&2==H.rail.drag.pt&&(H.prepareTransition&&H.prepareTransition(0),H.rail.scrollable&&H.setScrollTop(X),H.scrollmom.update(Y,M),H.railh&&H.railh.scrollable?(H.setScrollLeft(W),H.showCursor(X,W)):H.showCursor(X),C.isie10&&document.selection.clear())});C.ischrome&&H.istouchcapable&&(Z=!1);if(Z){return H.cancelEvent(ad)}}else{if(1==H.rail.drag.pt){return H.onmousemove(ad)}}}}H.onmousedown=function(M,X){if(!H.rail.drag||1==H.rail.drag.pt){if(H.railslocked){return H.cancelEvent(M)}H.cancelScroll();H.rail.drag={x:M.clientX,y:M.clientY,sx:H.scroll.x,sy:H.scroll.y,pt:1,hr:!!X};var W=H.getTarget(M);!H.ispage&&C.hasmousecapture&&W.setCapture();H.isiframe&&!C.hasmousecapture&&(H.saved.csspointerevents=H.doc.css("pointer-events"),H.css(H.doc,{"pointer-events":"none"}));H.hasmoving=!1;return H.cancelEvent(M)}};H.onmouseup=function(M){if(H.rail.drag){if(1!=H.rail.drag.pt){return !0}C.hasmousecapture&&document.releaseCapture();H.isiframe&&!C.hasmousecapture&&H.doc.css("pointer-events",H.saved.csspointerevents);H.rail.drag=!1;H.hasmoving&&H.triggerScrollEnd();return H.cancelEvent(M)}};H.onmousemove=function(M){if(H.rail.drag&&1==H.rail.drag.pt){if(C.ischrome&&0==M.which){return H.onmouseup(M)}H.cursorfreezed=!0;H.hasmoving=!0;if(H.rail.drag.hr){H.scroll.x=H.rail.drag.sx+(M.clientX-H.rail.drag.x);0>H.scroll.x&&(H.scroll.x=0);var W=H.scrollvaluemaxw;H.scroll.x>W&&(H.scroll.x=W)}else{H.scroll.y=H.rail.drag.sy+(M.clientY-H.rail.drag.y),0>H.scroll.y&&(H.scroll.y=0),W=H.scrollvaluemax,H.scroll.y>W&&(H.scroll.y=W)}H.synched("mousemove",function(){H.rail.drag&&1==H.rail.drag.pt&&(H.showCursor(),H.rail.drag.hr?H.hasreversehr?H.doScrollLeft(H.scrollvaluemaxw-Math.round(H.scroll.x*H.scrollratio.x),H.opt.cursordragspeed):H.doScrollLeft(Math.round(H.scroll.x*H.scrollratio.x),H.opt.cursordragspeed):H.doScrollTop(Math.round(H.scroll.y*H.scrollratio.y),H.opt.cursordragspeed))});return H.cancelEvent(M)}};if(C.cantouch||H.opt.touchbehavior){H.onpreventclick=function(M){if(H.preventclick){return H.preventclick.tg.onclick=H.preventclick.click,H.preventclick=!1,H.cancelEvent(M)}},H.bind(H.win,"mousedown",H.ontouchstart),H.onclick=C.isios?!1:function(M){return H.lastmouseup?(H.lastmouseup=!1,H.cancelEvent(M)):!0},H.opt.grabcursorenabled&&C.cursorgrabvalue&&(H.css(H.ispage?H.doc:H.win,{cursor:C.cursorgrabvalue}),H.css(H.rail,{cursor:C.cursorgrabvalue}))}else{var K=function(M){if(H.selectiondrag){if(M){var W=H.win.outerHeight();M=M.pageY-H.selectiondrag.top;0<M&&M<W&&(M=0);M>=W&&(M-=W);H.selectiondrag.df=M}0!=H.selectiondrag.df&&(H.doScrollBy(2*-Math.floor(H.selectiondrag.df/6)),H.debounced("doselectionscroll",function(){K()},50))}};H.hasTextSelected="getSelection" in document?function(){return 0<document.getSelection().rangeCount}:"selection" in document?function(){return"None"!=document.selection.type}:function(){return !1};H.onselectionstart=function(M){H.ispage||(H.selectiondrag=H.win.offset())};H.onselectionend=function(M){H.selectiondrag=!1};H.onselectiondrag=function(M){H.selectiondrag&&H.hasTextSelected()&&H.debounced("selectionscroll",function(){K(M)},250)}}C.hasw3ctouch?(H.css(H.rail,{"touch-action":"none"}),H.css(H.cursor,{"touch-action":"none"}),H.bind(H.win,"pointerdown",H.ontouchstart),H.bind(document,"pointerup",H.ontouchend),H.bind(document,"pointermove",H.ontouchmove)):C.hasmstouch?(H.css(H.rail,{"-ms-touch-action":"none"}),H.css(H.cursor,{"-ms-touch-action":"none"}),H.bind(H.win,"MSPointerDown",H.ontouchstart),H.bind(document,"MSPointerUp",H.ontouchend),H.bind(document,"MSPointerMove",H.ontouchmove),H.bind(H.cursor,"MSGestureHold",function(M){M.preventDefault()}),H.bind(H.cursor,"contextmenu",function(M){M.preventDefault()})):this.istouchcapable&&(H.bind(H.win,"touchstart",H.ontouchstart),H.bind(document,"touchend",H.ontouchend),H.bind(document,"touchcancel",H.ontouchend),H.bind(document,"touchmove",H.ontouchmove));if(H.opt.cursordragontouch||!C.cantouch&&!H.opt.touchbehavior){H.rail.css({cursor:"default"}),H.railh&&H.railh.css({cursor:"default"}),H.jqbind(H.rail,"mouseenter",function(){if(!H.ispage&&!H.win.is(":visible")){return !1}H.canshowonmouseevent&&H.showCursor();H.rail.active=!0}),H.jqbind(H.rail,"mouseleave",function(){H.rail.active=!1;H.rail.drag||H.hideCursor()}),H.opt.sensitiverail&&(H.bind(H.rail,"click",function(M){H.doRailClick(M,!1,!1)}),H.bind(H.rail,"dblclick",function(M){H.doRailClick(M,!0,!1)}),H.bind(H.cursor,"click",function(M){H.cancelEvent(M)}),H.bind(H.cursor,"dblclick",function(M){H.cancelEvent(M)})),H.railh&&(H.jqbind(H.railh,"mouseenter",function(){if(!H.ispage&&!H.win.is(":visible")){return !1}H.canshowonmouseevent&&H.showCursor();H.rail.active=!0}),H.jqbind(H.railh,"mouseleave",function(){H.rail.active=!1;H.rail.drag||H.hideCursor()}),H.opt.sensitiverail&&(H.bind(H.railh,"click",function(M){H.doRailClick(M,!1,!0)}),H.bind(H.railh,"dblclick",function(M){H.doRailClick(M,!0,!0)}),H.bind(H.cursorh,"click",function(M){H.cancelEvent(M)}),H.bind(H.cursorh,"dblclick",function(M){H.cancelEvent(M)})))}C.cantouch||H.opt.touchbehavior?(H.bind(C.hasmousecapture?H.win:document,"mouseup",H.ontouchend),H.bind(document,"mousemove",H.ontouchmove),H.onclick&&H.bind(document,"click",H.onclick),H.opt.cursordragontouch&&(H.bind(H.cursor,"mousedown",H.onmousedown),H.bind(H.cursor,"mouseup",H.onmouseup),H.cursorh&&H.bind(H.cursorh,"mousedown",function(M){H.onmousedown(M,!0)}),H.cursorh&&H.bind(H.cursorh,"mouseup",H.onmouseup))):(H.bind(C.hasmousecapture?H.win:document,"mouseup",H.onmouseup),H.bind(document,"mousemove",H.onmousemove),H.onclick&&H.bind(document,"click",H.onclick),H.bind(H.cursor,"mousedown",H.onmousedown),H.bind(H.cursor,"mouseup",H.onmouseup),H.railh&&(H.bind(H.cursorh,"mousedown",function(M){H.onmousedown(M,!0)}),H.bind(H.cursorh,"mouseup",H.onmouseup)),!H.ispage&&H.opt.enablescrollonselection&&(H.bind(H.win[0],"mousedown",H.onselectionstart),H.bind(document,"mouseup",H.onselectionend),H.bind(H.cursor,"mouseup",H.onselectionend),H.cursorh&&H.bind(H.cursorh,"mouseup",H.onselectionend),H.bind(document,"mousemove",H.onselectiondrag)),H.zoom&&(H.jqbind(H.zoom,"mouseenter",function(){H.canshowonmouseevent&&H.showCursor();H.rail.active=!0}),H.jqbind(H.zoom,"mouseleave",function(){H.rail.active=!1;H.rail.drag||H.hideCursor()})));H.opt.enablemousewheel&&(H.isiframe||H.bind(C.isie&&H.ispage?document:H.win,"mousewheel",H.onmousewheel),H.bind(H.rail,"mousewheel",H.onmousewheel),H.railh&&H.bind(H.railh,"mousewheel",H.onmousewheelhr));H.ispage||C.cantouch||/HTML|^BODY/.test(H.win[0].nodeName)||(H.win.attr("tabindex")||H.win.attr({tabindex:g++}),H.jqbind(H.win,"focus",function(M){i=H.getTarget(M).id||!0;H.hasfocus=!0;H.canshowonmouseevent&&H.noticeCursor()}),H.jqbind(H.win,"blur",function(M){i=!1;H.hasfocus=!1}),H.jqbind(H.win,"mouseenter",function(M){u=H.getTarget(M).id||!0;H.hasmousefocus=!0;H.canshowonmouseevent&&H.noticeCursor()}),H.jqbind(H.win,"mouseleave",function(){u=!1;H.hasmousefocus=!1;H.rail.drag||H.hideCursor()}))}H.onkeypress=function(M){if(H.railslocked&&0==H.page.maxh){return !0}M=M?M:window.e;var Z=H.getTarget(M);if(Z&&/INPUT|TEXTAREA|SELECT|OPTION/.test(Z.nodeName)&&(!Z.getAttribute("type")&&!Z.type||!/submit|button|cancel/i.tp)||G(Z).attr("contenteditable")){return !0}if(H.hasfocus||H.hasmousefocus&&!i||H.ispage&&!i&&!u){Z=M.keyCode;if(H.railslocked&&27!=Z){return H.cancelEvent(M)}var W=M.ctrlKey||!1,Y=M.shiftKey||!1,X=!1;switch(Z){case 38:case 63233:H.doScrollBy(72);X=!0;break;case 40:case 63235:H.doScrollBy(-72);X=!0;break;case 37:case 63232:H.railh&&(W?H.doScrollLeft(0):H.doScrollLeftBy(72),X=!0);break;case 39:case 63234:H.railh&&(W?H.doScrollLeft(H.page.maxw):H.doScrollLeftBy(-72),X=!0);break;case 33:case 63276:H.doScrollBy(H.view.h);X=!0;break;case 34:case 63277:H.doScrollBy(-H.view.h);X=!0;break;case 36:case 63273:H.railh&&W?H.doScrollPos(0,0):H.doScrollTo(0);X=!0;break;case 35:case 63275:H.railh&&W?H.doScrollPos(H.page.maxw,H.page.maxh):H.doScrollTo(H.page.maxh);X=!0;break;case 32:H.opt.spacebarenabled&&(Y?H.doScrollBy(H.view.h):H.doScrollBy(-H.view.h),X=!0);break;case 27:H.zoomactive&&(H.doZoom(),X=!0)}if(X){return H.cancelEvent(M)}}};H.opt.enablekeyboard&&H.bind(document,C.isopera&&!C.isopera12?"keypress":"keydown",H.onkeypress);H.bind(document,"keydown",function(M){M.ctrlKey&&(H.wheelprevented=!0)});H.bind(document,"keyup",function(M){M.ctrlKey||(H.wheelprevented=!1)});H.bind(window,"blur",function(M){H.wheelprevented=!1});H.bind(window,"resize",H.lazyResize);H.bind(window,"orientationchange",H.lazyResize);H.bind(window,"load",H.lazyResize);if(C.ischrome&&!H.ispage&&!H.haswrapper){var w=H.win.attr("style"),T=parseFloat(H.win.css("width"))+1;H.win.css("width",T);H.synched("chromefix",function(){H.win.attr("style",w)})}H.onAttributeChange=function(M){H.lazyResize(H.isieold?250:30)};!1!==n&&(H.observerbody=new n(function(M){M.forEach(function(W){if("attributes"==W.type){return G("body").hasClass("modal-open")?H.hide():H.show()}});if(document.body.scrollHeight!=H.page.maxh){return H.lazyResize(30)}}),H.observerbody.observe(document.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]}));H.ispage||H.haswrapper||(!1!==n?(H.observer=new n(function(M){M.forEach(H.onAttributeChange)}),H.observer.observe(H.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),H.observerremover=new n(function(M){M.forEach(function(W){if(0<W.removedNodes.length){for(var X in W.removedNodes){if(H&&W.removedNodes[X]==H.win[0]){return H.remove()}}}})}),H.observerremover.observe(H.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(H.bind(H.win,C.isie&&!C.isie9?"propertychange":"DOMAttrModified",H.onAttributeChange),C.isie9&&H.win[0].attachEvent("onpropertychange",H.onAttributeChange),H.bind(H.win,"DOMNodeRemoved",function(M){M.target==H.win[0]&&H.remove()})));!H.ispage&&H.opt.boxzoom&&H.bind(window,"resize",H.resizeZoom);H.istextarea&&H.bind(H.win,"mouseup",H.lazyResize);H.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var R=function(){H.iframexd=!1;var M;try{M="contentDocument" in this?this.contentDocument:this.contentWindow.document}catch(X){H.iframexd=!0,M=!1}if(H.iframexd){return"console" in window&&console.log("NiceScroll error: policy restriced iframe"),!0}H.forcescreen=!0;H.isiframe&&(H.iframe={doc:G(M),html:H.doc.contents().find("html")[0],body:H.doc.contents().find("body")[0]},H.getContentSize=function(){return{w:Math.max(H.iframe.html.scrollWidth,H.iframe.body.scrollWidth),h:Math.max(H.iframe.html.scrollHeight,H.iframe.body.scrollHeight)}},H.docscroll=G(H.iframe.body));if(!C.isios&&H.opt.iframeautoresize&&!H.isiframe){H.win.scrollTop(0);H.doc.height("");var W=Math.max(M.getElementsByTagName("html")[0].scrollHeight,M.body.scrollHeight);H.doc.height(W)}H.lazyResize(30);C.isie7&&H.css(G(H.iframe.html),{"overflow-y":"hidden"});H.css(G(H.iframe.body),{"overflow-y":"hidden"});C.isios&&H.haswrapper&&H.css(G(M.body),{"-webkit-transform":"translate3d(0,0,0)"});"contentWindow" in this?H.bind(this.contentWindow,"scroll",H.onscroll):H.bind(M,"scroll",H.onscroll);H.opt.enablemousewheel&&H.bind(M,"mousewheel",H.onmousewheel);H.opt.enablekeyboard&&H.bind(M,C.isopera?"keypress":"keydown",H.onkeypress);if(C.cantouch||H.opt.touchbehavior){H.bind(M,"mousedown",H.ontouchstart),H.bind(M,"mousemove",function(Y){return H.ontouchmove(Y,!0)}),H.opt.grabcursorenabled&&C.cursorgrabvalue&&H.css(G(M.body),{cursor:C.cursorgrabvalue})}H.bind(M,"mouseup",H.ontouchend);H.zoom&&(H.opt.dblclickzoom&&H.bind(M,"dblclick",H.doZoom),H.ongesturezoom&&H.bind(M,"gestureend",H.ongesturezoom))};this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){R.call(H.doc[0],!1)},500);H.bind(this.doc,"load",R)}};this.showCursor=function(w,L){H.cursortimeout&&(clearTimeout(H.cursortimeout),H.cursortimeout=0);if(H.rail){H.autohidedom&&(H.autohidedom.stop().css({opacity:H.opt.cursoropacitymax}),H.cursoractive=!0);H.rail.drag&&1==H.rail.drag.pt||("undefined"!=typeof w&&!1!==w&&(H.scroll.y=Math.round(1*w/H.scrollratio.y)),"undefined"!=typeof L&&(H.scroll.x=Math.round(1*L/H.scrollratio.x)));H.cursor.css({height:H.cursorheight,top:H.scroll.y});if(H.cursorh){var K=H.hasreversehr?H.scrollvaluemaxw-H.scroll.x:H.scroll.x;!H.rail.align&&H.rail.visibility?H.cursorh.css({width:H.cursorwidth,left:K+H.rail.width}):H.cursorh.css({width:H.cursorwidth,left:K});H.cursoractive=!0}H.zoom&&H.zoom.stop().css({opacity:H.opt.cursoropacitymax})}};this.hideCursor=function(w){H.cursortimeout||!H.rail||!H.autohidedom||H.hasmousefocus&&"leave"==H.opt.autohidemode||(H.cursortimeout=setTimeout(function(){H.rail.active&&H.showonmouseevent||(H.autohidedom.stop().animate({opacity:H.opt.cursoropacitymin}),H.zoom&&H.zoom.stop().animate({opacity:H.opt.cursoropacitymin}),H.cursoractive=!1);H.cursortimeout=0},w||H.opt.hidecursordelay))};this.noticeCursor=function(w,L,K){H.showCursor(L,K);H.rail.active||H.hideCursor(w)};this.getContentSize=H.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:H.haswrapper?function(){return{w:H.doc.outerWidth()+parseInt(H.win.css("paddingLeft"))+parseInt(H.win.css("paddingRight")),h:H.doc.outerHeight()+parseInt(H.win.css("paddingTop"))+parseInt(H.win.css("paddingBottom"))}}:function(){return{w:H.docscroll[0].scrollWidth,h:H.docscroll[0].scrollHeight}};this.onResize=function(w,O){if(!H||!H.win){return !1}if(!H.haswrapper&&!H.ispage){if("none"==H.win.css("display")){return H.visibility&&H.hideRail().hideRailHr(),!1}H.hidden||H.visibility||H.showRail().showRailHr()}var N=H.page.maxh,M=H.page.maxw,L=H.view.h,K=H.view.w;H.view={w:H.ispage?H.win.width():parseInt(H.win[0].clientWidth),h:H.ispage?H.win.height():parseInt(H.win[0].clientHeight)};H.page=O?O:H.getContentSize();H.page.maxh=Math.max(0,H.page.h-H.view.h);H.page.maxw=Math.max(0,H.page.w-H.view.w);if(H.page.maxh==N&&H.page.maxw==M&&H.view.w==K&&H.view.h==L){if(H.ispage){return H}N=H.win.offset();if(H.lastposition&&(M=H.lastposition,M.top==N.top&&M.left==N.left)){return H}H.lastposition=N}0==H.page.maxh?(H.hideRail(),H.scrollvaluemax=0,H.scroll.y=0,H.scrollratio.y=0,H.cursorheight=0,H.setScrollTop(0),H.rail.scrollable=!1):(H.page.maxh-=H.opt.railpadding.top+H.opt.railpadding.bottom,H.rail.scrollable=!0);0==H.page.maxw?(H.hideRailHr(),H.scrollvaluemaxw=0,H.scroll.x=0,H.scrollratio.x=0,H.cursorwidth=0,H.setScrollLeft(0),H.railh.scrollable=!1):(H.page.maxw-=H.opt.railpadding.left+H.opt.railpadding.right,H.railh.scrollable=!0);H.railslocked=H.locked||0==H.page.maxh&&0==H.page.maxw;if(H.railslocked){return H.ispage||H.updateScrollBar(H.view),!1}H.hidden||H.visibility?H.hidden||H.railh.visibility||H.showRailHr():H.showRail().showRailHr();H.istextarea&&H.win.css("resize")&&"none"!=H.win.css("resize")&&(H.view.h-=20);H.cursorheight=Math.min(H.view.h,Math.round(H.view.h/H.page.h*H.view.h));H.cursorheight=H.opt.cursorfixedheight?H.opt.cursorfixedheight:Math.max(H.opt.cursorminheight,H.cursorheight);H.cursorwidth=Math.min(H.view.w,Math.round(H.view.w/H.page.w*H.view.w));H.cursorwidth=H.opt.cursorfixedheight?H.opt.cursorfixedheight:Math.max(H.opt.cursorminheight,H.cursorwidth);H.scrollvaluemax=H.view.h-H.cursorheight-H.cursor.hborder-(H.opt.railpadding.top+H.opt.railpadding.bottom);H.railh&&(H.railh.width=0<H.page.maxh?H.view.w-H.rail.width:H.view.w,H.scrollvaluemaxw=H.railh.width-H.cursorwidth-H.cursorh.wborder-(H.opt.railpadding.left+H.opt.railpadding.right));H.ispage||H.updateScrollBar(H.view);H.scrollratio={x:H.page.maxw/H.scrollvaluemaxw,y:H.page.maxh/H.scrollvaluemax};H.getScrollTop()>H.page.maxh?H.doScrollTop(H.page.maxh):(H.scroll.y=Math.round(H.getScrollTop()*(1/H.scrollratio.y)),H.scroll.x=Math.round(H.getScrollLeft()*(1/H.scrollratio.x)),H.cursoractive&&H.noticeCursor());H.scroll.y&&0==H.getScrollTop()&&H.doScrollTo(Math.floor(H.scroll.y*H.scrollratio.y));return H};this.resize=H.onResize;this.lazyResize=function(w){w=isNaN(w)?30:w;H.debounced("resize",H.resize,w);return H};this.jqbind=function(w,L,K){H.events.push({e:w,n:L,f:K,q:!0});G(w).bind(L,K)};this.bind=function(w,N,M,L){var K="jquery" in w?w[0]:w;"mousewheel"==N?window.addEventListener||"onwheel" in document?H._bind(K,"wheel",M,L||!1):(w="undefined"!=typeof document.onmousewheel?"mousewheel":"DOMMouseScroll",v(K,w,M,L||!1),"DOMMouseScroll"==w&&v(K,"MozMousePixelScroll",M,L||!1)):K.addEventListener?(C.cantouch&&/mouseup|mousedown|mousemove/.test(N)&&H._bind(K,"mousedown"==N?"touchstart":"mouseup"==N?"touchend":"touchmove",function(P){if(P.touches){if(2>P.touches.length){var O=P.touches.length?P.touches[0]:P;O.original=P;M.call(this,O)}}else{P.changedTouches&&(O=P.changedTouches[0],O.original=P,M.call(this,O))}},L||!1),H._bind(K,N,M,L||!1),C.cantouch&&"mouseup"==N&&H._bind(K,"touchcancel",M,L||!1)):H._bind(K,N,function(O){(O=O||window.event||!1)&&O.srcElement&&(O.target=O.srcElement);"pageY" in O||(O.pageX=O.clientX+document.documentElement.scrollLeft,O.pageY=O.clientY+document.documentElement.scrollTop);return !1===M.call(K,O)||!1===L?H.cancelEvent(O):!0})};C.haseventlistener?(this._bind=function(w,M,L,K){H.events.push({e:w,n:M,f:L,b:K,q:!1});w.addEventListener(M,L,K||!1)},this.cancelEvent=function(w){if(!w){return !1}w=w.original?w.original:w;w.preventDefault();w.stopPropagation();w.preventManipulation&&w.preventManipulation();return !1},this.stopPropagation=function(w){if(!w){return !1}w=w.original?w.original:w;w.stopPropagation();return !1},this._unbind=function(w,M,L,K){w.removeEventListener(M,L,K)}):(this._bind=function(w,M,L,K){H.events.push({e:w,n:M,f:L,b:K,q:!1});w.attachEvent?w.attachEvent("on"+M,L):w["on"+M]=L},this.cancelEvent=function(w){w=window.event||!1;if(!w){return !1}w.cancelBubble=!0;w.cancel=!0;return w.returnValue=!1},this.stopPropagation=function(w){w=window.event||!1;if(!w){return !1}w.cancelBubble=!0;return !1},this._unbind=function(w,M,L,K){w.detachEvent?w.detachEvent("on"+M,L):w["on"+M]=!1});this.unbindAll=function(){for(var w=0;w<H.events.length;w++){var K=H.events[w];K.q?K.e.unbind(K.n,K.f):H._unbind(K.e,K.n,K.f,K.b)}};this.showRail=function(){0==H.page.maxh||!H.ispage&&"none"==H.win.css("display")||(H.visibility=!0,H.rail.visibility=!0,H.rail.css("display","block"));return H};this.showRailHr=function(){if(!H.railh){return H}0==H.page.maxw||!H.ispage&&"none"==H.win.css("display")||(H.railh.visibility=!0,H.railh.css("display","block"));return H};this.hideRail=function(){H.visibility=!1;H.rail.visibility=!1;H.rail.css("display","none");return H};this.hideRailHr=function(){if(!H.railh){return H}H.railh.visibility=!1;H.railh.css("display","none");return H};this.show=function(){H.hidden=!1;H.railslocked=!1;return H.showRail().showRailHr()};this.hide=function(){H.hidden=!0;H.railslocked=!0;return H.hideRail().hideRailHr()};this.toggle=function(){return H.hidden?H.show():H.hide()};this.remove=function(){H.stop();H.cursortimeout&&clearTimeout(H.cursortimeout);H.doZoomOut();H.unbindAll();C.isie9&&H.win[0].detachEvent("onpropertychange",H.onAttributeChange);!1!==H.observer&&H.observer.disconnect();!1!==H.observerremover&&H.observerremover.disconnect();!1!==H.observerbody&&H.observerbody.disconnect();H.events=null;H.cursor&&H.cursor.remove();H.cursorh&&H.cursorh.remove();H.rail&&H.rail.remove();H.railh&&H.railh.remove();H.zoom&&H.zoom.remove();for(var w=0;w<H.saved.css.length;w++){var M=H.saved.css[w];M[0].css(M[1],"undefined"==typeof M[2]?"":M[2])}H.saved=!1;H.me.data("__nicescroll","");var L=G.nicescroll;L.each(function(N){if(this&&this.id===H.id){delete L[N];for(var O=++N;O<L.length;O++,N++){L[N]=L[O]}L.length--;L.length&&delete L[L.length]}});for(var K in H){H[K]=null,delete H[K]}H=null};this.scrollstart=function(w){this.onscrollstart=w;return H};this.scrollend=function(w){this.onscrollend=w;return H};this.scrollcancel=function(w){this.onscrollcancel=w;return H};this.zoomin=function(w){this.onzoomin=w;return H};this.zoomout=function(w){this.onzoomout=w;return H};this.isScrollable=function(w){w=w.target?w.target:w;if("OPTION"==w.nodeName){return !0}for(;w&&1==w.nodeType&&!/^BODY|HTML/.test(w.nodeName);){var K=G(w),K=K.css("overflowY")||K.css("overflowX")||K.css("overflow")||"";if(/scroll|auto/.test(K)){return w.clientHeight!=w.scrollHeight}w=w.parentNode?w.parentNode:!1}return !1};this.getViewport=function(w){for(w=w&&w.parentNode?w.parentNode:!1;w&&1==w.nodeType&&!/^BODY|HTML/.test(w.nodeName);){var L=G(w);if(/fixed|absolute/.test(L.css("position"))){return L}var K=L.css("overflowY")||L.css("overflowX")||L.css("overflow")||"";if(/scroll|auto/.test(K)&&w.clientHeight!=w.scrollHeight||0<L.getNiceScroll().length){return L}w=w.parentNode?w.parentNode:!1}return !1};this.triggerScrollEnd=function(){if(H.onscrollend){var w=H.getScrollLeft(),K=H.getScrollTop();H.onscrollend.call(H,{type:"scrollend",current:{x:w,y:K},end:{x:w,y:K}})}};this.onmousewheel=function(w){if(!H.wheelprevented){if(H.railslocked){return H.debounced("checkunlock",H.resize,250),!0}if(H.rail.drag){return H.cancelEvent(w)}"auto"==H.opt.oneaxismousemode&&0!=w.deltaX&&(H.opt.oneaxismousemode=!1);if(H.opt.oneaxismousemode&&0==w.deltaX&&!H.rail.scrollable){return H.railh&&H.railh.scrollable?H.onmousewheelhr(w):!0}var L=+new Date,K=!1;H.opt.preservenativescrolling&&H.checkarea+600<L&&(H.nativescrollingarea=H.isScrollable(w),K=!0);H.checkarea=L;if(H.nativescrollingarea){return !0}if(w=s(w,!1,K)){H.checkarea=0}return w}};this.onmousewheelhr=function(w){if(!H.wheelprevented){if(H.railslocked||!H.railh.scrollable){return !0}if(H.rail.drag){return H.cancelEvent(w)}var L=+new Date,K=!1;H.opt.preservenativescrolling&&H.checkarea+600<L&&(H.nativescrollingarea=H.isScrollable(w),K=!0);H.checkarea=L;return H.nativescrollingarea?!0:H.railslocked?H.cancelEvent(w):s(w,!0,K)}};this.stop=function(){H.cancelScroll();H.scrollmon&&H.scrollmon.stop();H.cursorfreezed=!1;H.scroll.y=Math.round(H.getScrollTop()*(1/H.scrollratio.y));H.noticeCursor();return H};this.getTransitionSpeed=function(w){var K=Math.round(10*H.opt.scrollspeed);w=Math.min(K,Math.round(w/20*H.opt.scrollspeed));return 20<w?w:0};H.opt.smoothscroll?H.ishwscroll&&C.hastransition&&H.opt.usetransition&&H.opt.smoothscroll?(this.prepareTransition=function(w,M){var L=M?20<w?w:0:H.getTransitionSpeed(w),K=L?C.prefixstyle+"transform "+L+"ms ease-out":"";H.lasttransitionstyle&&H.lasttransitionstyle==K||(H.lasttransitionstyle=K,H.doc.css(C.transitionstyle,K));return L},this.doScrollLeft=function(w,L){var K=H.scrollrunning?H.newscrolly:H.getScrollTop();H.doScrollPos(w,K,L)},this.doScrollTop=function(w,L){var K=H.scrollrunning?H.newscrollx:H.getScrollLeft();H.doScrollPos(K,w,L)},this.doScrollPos=function(w,N,M){var L=H.getScrollTop(),K=H.getScrollLeft();(0>(H.newscrolly-L)*(N-L)||0>(H.newscrollx-K)*(w-K))&&H.cancelScroll();0==H.opt.bouncescroll&&(0>N?N=0:N>H.page.maxh&&(N=H.page.maxh),0>w?w=0:w>H.page.maxw&&(w=H.page.maxw));if(H.scrollrunning&&w==H.newscrollx&&N==H.newscrolly){return !1}H.newscrolly=N;H.newscrollx=w;H.newscrollspeed=M||!1;if(H.timer){return !1}H.timer=setTimeout(function(){var R=H.getScrollTop(),Q=H.getScrollLeft(),P,O;P=w-Q;O=N-R;P=Math.round(Math.sqrt(Math.pow(P,2)+Math.pow(O,2)));P=H.newscrollspeed&&1<H.newscrollspeed?H.newscrollspeed:H.getTransitionSpeed(P);H.newscrollspeed&&1>=H.newscrollspeed&&(P*=H.newscrollspeed);H.prepareTransition(P,!0);H.timerscroll&&H.timerscroll.tm&&clearInterval(H.timerscroll.tm);0<P&&(!H.scrollrunning&&H.onscrollstart&&H.onscrollstart.call(H,{type:"scrollstart",current:{x:Q,y:R},request:{x:w,y:N},end:{x:H.newscrollx,y:H.newscrolly},speed:P}),C.transitionend?H.scrollendtrapped||(H.scrollendtrapped=!0,H.bind(H.doc,C.transitionend,H.onScrollTransitionEnd,!1)):(H.scrollendtrapped&&clearTimeout(H.scrollendtrapped),H.scrollendtrapped=setTimeout(H.onScrollTransitionEnd,P)),H.timerscroll={bz:new t(R,H.newscrolly,P,0,0,0.58,1),bh:new t(Q,H.newscrollx,P,0,0,0.58,1)},H.cursorfreezed||(H.timerscroll.tm=setInterval(function(){H.showCursor(H.getScrollTop(),H.getScrollLeft())},60)));H.synched("doScroll-set",function(){H.timer=0;H.scrollendtrapped&&(H.scrollrunning=!0);H.setScrollTop(H.newscrolly);H.setScrollLeft(H.newscrollx);if(!H.scrollendtrapped){H.onScrollTransitionEnd()}})},50)},this.cancelScroll=function(){if(!H.scrollendtrapped){return !0}var w=H.getScrollTop(),K=H.getScrollLeft();H.scrollrunning=!1;C.transitionend||clearTimeout(C.transitionend);H.scrollendtrapped=!1;H._unbind(H.doc[0],C.transitionend,H.onScrollTransitionEnd);H.prepareTransition(0);H.setScrollTop(w);H.railh&&H.setScrollLeft(K);H.timerscroll&&H.timerscroll.tm&&clearInterval(H.timerscroll.tm);H.timerscroll=!1;H.cursorfreezed=!1;H.showCursor(w,K);return H},this.onScrollTransitionEnd=function(){H.scrollendtrapped&&H._unbind(H.doc[0],C.transitionend,H.onScrollTransitionEnd);H.scrollendtrapped=!1;H.prepareTransition(0);H.timerscroll&&H.timerscroll.tm&&clearInterval(H.timerscroll.tm);H.timerscroll=!1;var w=H.getScrollTop(),K=H.getScrollLeft();H.setScrollTop(w);H.railh&&H.setScrollLeft(K);H.noticeCursor(!1,w,K);H.cursorfreezed=!1;0>w?w=0:w>H.page.maxh&&(w=H.page.maxh);0>K?K=0:K>H.page.maxw&&(K=H.page.maxw);if(w!=H.newscrolly||K!=H.newscrollx){return H.doScrollPos(K,w,H.opt.snapbackspeed)}H.onscrollend&&H.scrollrunning&&H.triggerScrollEnd();H.scrollrunning=!1}):(this.doScrollLeft=function(w,L){var K=H.scrollrunning?H.newscrolly:H.getScrollTop();H.doScrollPos(w,K,L)},this.doScrollTop=function(w,L){var K=H.scrollrunning?H.newscrollx:H.getScrollLeft();H.doScrollPos(K,w,L)},this.doScrollPos=function(S,R,Q){function P(){if(H.cancelAnimationFrame){return !0}H.scrollrunning=!0;if(w=1-w){return H.timer=r(P)||1}var T=0,W,V,U=V=H.getScrollTop();if(H.dst.ay){U=H.bzscroll?H.dst.py+H.bzscroll.getNow()*H.dst.ay:H.newscrolly;W=U-V;if(0>W&&U<H.newscrolly||0<W&&U>H.newscrolly){U=H.newscrolly}H.setScrollTop(U);U==H.newscrolly&&(T=1)}else{T=1}V=W=H.getScrollLeft();if(H.dst.ax){V=H.bzscroll?H.dst.px+H.bzscroll.getNow()*H.dst.ax:H.newscrollx;W=V-W;if(0>W&&V<H.newscrollx||0<W&&V>H.newscrollx){V=H.newscrollx}H.setScrollLeft(V);V==H.newscrollx&&(T+=1)}else{T+=1}2==T?(H.timer=0,H.cursorfreezed=!1,H.bzscroll=!1,H.scrollrunning=!1,0>U?U=0:U>H.page.maxh&&(U=H.page.maxh),0>V?V=0:V>H.page.maxw&&(V=H.page.maxw),V!=H.newscrollx||U!=H.newscrolly?H.doScrollPos(V,U):H.onscrollend&&H.triggerScrollEnd()):H.timer=r(P)||1}R="undefined"==typeof R||!1===R?H.getScrollTop(!0):R;if(H.timer&&H.newscrolly==R&&H.newscrollx==S){return !0}H.timer&&q(H.timer);H.timer=0;var O=H.getScrollTop(),N=H.getScrollLeft();(0>(H.newscrolly-O)*(R-O)||0>(H.newscrollx-N)*(S-N))&&H.cancelScroll();H.newscrolly=R;H.newscrollx=S;H.bouncescroll&&H.rail.visibility||(0>H.newscrolly?H.newscrolly=0:H.newscrolly>H.page.maxh&&(H.newscrolly=H.page.maxh));H.bouncescroll&&H.railh.visibility||(0>H.newscrollx?H.newscrollx=0:H.newscrollx>H.page.maxw&&(H.newscrollx=H.page.maxw));H.dst={};H.dst.x=S-N;H.dst.y=R-O;H.dst.px=N;H.dst.py=O;var M=Math.round(Math.sqrt(Math.pow(H.dst.x,2)+Math.pow(H.dst.y,2)));H.dst.ax=H.dst.x/M;H.dst.ay=H.dst.y/M;var L=0,K=M;0==H.dst.x?(L=O,K=R,H.dst.ay=1,H.dst.py=0):0==H.dst.y&&(L=N,K=S,H.dst.ax=1,H.dst.px=0);M=H.getTransitionSpeed(M);Q&&1>=Q&&(M*=Q);H.bzscroll=0<M?H.bzscroll?H.bzscroll.update(K,M):new t(L,K,M,0,1,0,1):!1;if(!H.timer){(O==H.page.maxh&&R>=H.page.maxh||N==H.page.maxw&&S>=H.page.maxw)&&H.checkContentSize();var w=1;H.cancelAnimationFrame=!1;H.timer=1;H.onscrollstart&&!H.scrollrunning&&H.onscrollstart.call(H,{type:"scrollstart",current:{x:N,y:O},request:{x:S,y:R},end:{x:H.newscrollx,y:H.newscrolly},speed:M});P();(O==H.page.maxh&&R>=O||N==H.page.maxw&&S>=N)&&H.checkContentSize();H.noticeCursor()}},this.cancelScroll=function(){H.timer&&q(H.timer);H.timer=0;H.bzscroll=!1;H.scrollrunning=!1;return H}):(this.doScrollLeft=function(w,L){var K=H.getScrollTop();H.doScrollPos(w,K,L)},this.doScrollTop=function(w,L){var K=H.getScrollLeft();H.doScrollPos(K,w,L)},this.doScrollPos=function(w,N,M){var L=w>H.page.maxw?H.page.maxw:w;0>L&&(L=0);var K=N>H.page.maxh?H.page.maxh:N;0>K&&(K=0);H.synched("scroll",function(){H.setScrollTop(K);H.setScrollLeft(L)})},this.cancelScroll=function(){});this.doScrollBy=function(w,M){var L=0,L=M?Math.floor((H.scroll.y-w)*H.scrollratio.y):(H.timer?H.newscrolly:H.getScrollTop(!0))-w;if(H.bouncescroll){var K=Math.round(H.view.h/2);L<-K?L=-K:L>H.page.maxh+K&&(L=H.page.maxh+K)}H.cursorfreezed=!1;K=H.getScrollTop(!0);if(0>L&&0>=K){return H.noticeCursor()}if(L>H.page.maxh&&K>=H.page.maxh){return H.checkContentSize(),H.noticeCursor()}H.doScrollTop(L)};this.doScrollLeftBy=function(w,M){var L=0,L=M?Math.floor((H.scroll.x-w)*H.scrollratio.x):(H.timer?H.newscrollx:H.getScrollLeft(!0))-w;if(H.bouncescroll){var K=Math.round(H.view.w/2);L<-K?L=-K:L>H.page.maxw+K&&(L=H.page.maxw+K)}H.cursorfreezed=!1;K=H.getScrollLeft(!0);if(0>L&&0>=K||L>H.page.maxw&&K>=H.page.maxw){return H.noticeCursor()}H.doScrollLeft(L)};this.doScrollTo=function(w,K){K&&Math.round(w*H.scrollratio.y);H.cursorfreezed=!1;H.doScrollTop(w)};this.checkContentSize=function(){var w=H.getContentSize();w.h==H.page.h&&w.w==H.page.w||H.resize(!1,w)};H.onscroll=function(w){H.rail.drag||H.cursorfreezed||H.synched("scroll",function(){H.scroll.y=Math.round(H.getScrollTop()*(1/H.scrollratio.y));H.railh&&(H.scroll.x=Math.round(H.getScrollLeft()*(1/H.scrollratio.x)));H.noticeCursor()})};H.bind(H.docscroll,"scroll",H.onscroll);this.doZoomIn=function(w){if(!H.zoomactive){H.zoomactive=!0;H.zoomrestore={style:{}};var N="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),M=H.win[0].style,L;for(L in N){var K=N[L];H.zoomrestore.style[K]="undefined"!=typeof M[K]?M[K]:""}H.zoomrestore.style.width=H.win.css("width");H.zoomrestore.style.height=H.win.css("height");H.zoomrestore.padding={w:H.win.outerWidth()-H.win.width(),h:H.win.outerHeight()-H.win.height()};C.isios4&&(H.zoomrestore.scrollTop=G(window).scrollTop(),G(window).scrollTop(0));H.win.css({position:C.isios4?"absolute":"fixed",top:0,left:0,"z-index":k+100,margin:"0px"});N=H.win.css("backgroundColor");(""==N||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(N))&&H.win.css("backgroundColor","#fff");H.rail.css({"z-index":k+101});H.zoom.css({"z-index":k+102});H.zoom.css("backgroundPosition","0px -18px");H.resizeZoom();H.onzoomin&&H.onzoomin.call(H);return H.cancelEvent(w)}};this.doZoomOut=function(w){if(H.zoomactive){return H.zoomactive=!1,H.win.css("margin",""),H.win.css(H.zoomrestore.style),C.isios4&&G(window).scrollTop(H.zoomrestore.scrollTop),H.rail.css({"z-index":H.zindex}),H.zoom.css({"z-index":H.zindex}),H.zoomrestore=!1,H.zoom.css("backgroundPosition","0px 0px"),H.onResize(),H.onzoomout&&H.onzoomout.call(H),H.cancelEvent(w)}};this.doZoom=function(w){return H.zoomactive?H.doZoomOut(w):H.doZoomIn(w)};this.resizeZoom=function(){if(H.zoomactive){var w=H.getScrollTop();H.win.css({width:G(window).width()-H.zoomrestore.padding.w+"px",height:G(window).height()-H.zoomrestore.padding.h+"px"});H.onResize();H.setScrollTop(Math.min(H.page.maxh,w))}};this.init();G.nicescroll.push(this)},h=function(s){var t=this;this.nc=s;this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0;this.snapy=this.snapx=!1;this.demuly=this.demulx=0;this.lastscrolly=this.lastscrollx=-1;this.timer=this.chky=this.chkx=0;this.time=function(){return +new Date};this.reset=function(w,v){t.stop();var x=t.time();t.steptime=0;t.lasttime=x;t.speedx=0;t.speedy=0;t.lastx=w;t.lasty=v;t.lastscrollx=-1;t.lastscrolly=-1};this.update=function(x,w){var B=t.time();t.steptime=B-t.lasttime;t.lasttime=B;var B=w-t.lasty,C=x-t.lastx,y=t.nc.getScrollTop(),v=t.nc.getScrollLeft(),y=y+B,v=v+C;t.snapx=0>v||v>t.nc.page.maxw;t.snapy=0>y||y>t.nc.page.maxh;t.speedx=C;t.speedy=B;t.lastx=x;t.lasty=w};this.stop=function(){t.nc.unsynched("domomentum2d");t.timer&&clearTimeout(t.timer);t.timer=0;t.lastscrollx=-1;t.lastscrolly=-1};this.doSnapy=function(w,v){var x=!1;0>v?(v=0,x=!0):v>t.nc.page.maxh&&(v=t.nc.page.maxh,x=!0);0>w?(w=0,x=!0):w>t.nc.page.maxw&&(w=t.nc.page.maxw,x=!0);x?t.nc.doScrollPos(w,v,t.nc.opt.snapbackspeed):t.nc.triggerScrollEnd()};this.doMomentum=function(B){var y=t.time(),D=B?y+B:t.lasttime;B=t.nc.getScrollLeft();var x=t.nc.getScrollTop(),w=t.nc.page.maxh,E=t.nc.page.maxw;t.speedx=0<E?Math.min(60,t.speedx):0;t.speedy=0<w?Math.min(60,t.speedy):0;D=D&&60>=y-D;if(0>x||x>w||0>B||B>E){D=!1}B=t.speedx&&D?t.speedx:!1;if(t.speedy&&D&&t.speedy||B){var H=Math.max(16,t.steptime);50<H&&(B=H/50,t.speedx*=B,t.speedy*=B,H=50);t.demulxy=0;t.lastscrollx=t.nc.getScrollLeft();t.chkx=t.lastscrollx;t.lastscrolly=t.nc.getScrollTop();t.chky=t.lastscrolly;var C=t.lastscrollx,v=t.lastscrolly,F=function(){var f=600<t.time()-y?0.04:0.02;t.speedx&&(C=Math.floor(t.lastscrollx-t.speedx*(1-t.demulxy)),t.lastscrollx=C,0>C||C>E)&&(f=0.1);t.speedy&&(v=Math.floor(t.lastscrolly-t.speedy*(1-t.demulxy)),t.lastscrolly=v,0>v||v>w)&&(f=0.1);t.demulxy=Math.min(1,t.demulxy+f);t.nc.synched("domomentum2d",function(){t.speedx&&(t.nc.getScrollLeft()!=t.chkx&&t.stop(),t.chkx=C,t.nc.setScrollLeft(C));t.speedy&&(t.nc.getScrollTop()!=t.chky&&t.stop(),t.chky=v,t.nc.setScrollTop(v));t.timer||(t.nc.hideCursor(),t.doSnapy(C,v))});1>t.demulxy?t.timer=setTimeout(F,H):(t.stop(),t.nc.hideCursor(),t.doSnapy(C,v))};F()}else{t.doSnapy(t.nc.getScrollLeft(),t.nc.getScrollTop())}}},l=G.fn.scrollTop;G.cssHooks.pageYOffset={get:function(f,t,s){return(t=G.data(f,"__nicescroll")||!1)&&t.ishwscroll?t.getScrollTop():l.call(f)},set:function(f,t){var s=G.data(f,"__nicescroll")||!1;s&&s.ishwscroll?s.setScrollTop(parseInt(t)):l.call(f,t);return this}};G.fn.scrollTop=function(f){if("undefined"==typeof f){var s=this[0]?G.data(this[0],"__nicescroll")||!1:!1;return s&&s.ishwscroll?s.getScrollTop():l.call(this)}return this.each(function(){var t=G.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollTop(parseInt(f)):l.call(G(this),f)})};var A=G.fn.scrollLeft;G.cssHooks.pageXOffset={get:function(f,t,s){return(t=G.data(f,"__nicescroll")||!1)&&t.ishwscroll?t.getScrollLeft():A.call(f)},set:function(f,t){var s=G.data(f,"__nicescroll")||!1;s&&s.ishwscroll?s.setScrollLeft(parseInt(t)):A.call(f,t);return this}};G.fn.scrollLeft=function(f){if("undefined"==typeof f){var s=this[0]?G.data(this[0],"__nicescroll")||!1:!1;return s&&s.ishwscroll?s.getScrollLeft():A.call(this)}return this.each(function(){var t=G.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollLeft(parseInt(f)):A.call(G(this),f)})};var z=function(s){var v=this;this.length=0;this.name="nicescrollarray";this.each=function(y){for(var x=0,w=0;x<v.length;x++){y.call(v[x],w++)}return v};this.push=function(w){v[v.length]=w;v.length++};this.eq=function(w){return v[w]};if(s){for(var t=0;t<s.length;t++){var f=G.data(s[t],"__nicescroll")||!1;f&&(this[this.length]=f,this.length++)}}return this};(function(v,w,t){for(var s=0;s<w.length;s++){t(v,w[s])}})(z.prototype,"show hide toggle onResize resize remove stop doScrollPos".split(" "),function(s,t){s[t]=function(){var v=arguments;return this.each(function(){this[t].apply(this,v)})}});G.fn.getNiceScroll=function(f){return"undefined"==typeof f?new z(this):this[f]&&G.data(this[f],"__nicescroll")||!1};G.extend(G.expr[":"],{nicescroll:function(f){return G.data(f,"__nicescroll")?!0:!1}});G.fn.niceScroll=function(s,v){"undefined"!=typeof v||"object"!=typeof s||"jquery" in s||(v=s,s=!1);v=G.extend({},v);var t=new z;"undefined"==typeof v&&(v={});s&&(v.doc=G(s),v.win=G(this));var f=!("doc" in v);f||"win" in v||(v.win=G(this));this.each(function(){var w=G(this).data("__nicescroll")||!1;w||(v.doc=f?G(this):v.doc,w=new b(v,G(this)),G(this).data("__nicescroll",w));t.push(w)});return 1==t.length?t[0]:t};window.NiceScroll={getjQuery:function(){return G}};G.nicescroll||(G.nicescroll=new z,G.nicescroll.options=j)});